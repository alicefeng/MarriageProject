<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="css/style.css">

        <title>The Dynamics of Marriage </title>
    </head>
    
    <body>
		
		<div class="container">
			<h1>Who's Marrying Whom?</h1>
			<h2>Looking at the socioeconomic dynamics of marriage</h2>
			<section id="intro">
				<p>In the growing discourse about income inequality in the United States, much has been made about the state of marriage: that it is becoming increasingly concentrated among the well-off and well-educated, that people are pairing off with their socioeconomic peers.  Just how strong is that effect?</p>
			</section>
			<section id="occheatmap" class="inactive">
				<h2>What Jobs do Married Couples Tend to Hold?</h2>
				<p>Let's first take a look at what occupations tend to pair off together.  Using the 2014 American Community Survey, we can observe the jobs held by over 200,000 married couples.</p>
				<p>The heatmap below shows just how common (or uncommon) marriages are between different occupations.  Occupations are ordered such that those with high paid, high educated workers are located in the top-left corner and those with low paid, low educated workers are in the bottom right.</p>
			</section>
			<section id="diffplot" class="inactive">
				<h2>Income and Education Levels Within Couples </h2>
				<p>Another way of examining the socioeconomic dynamics of marriage is to look at how spouses' income and education levels compare to one another.  Do people tend to marry those with similar earnings and educational attainment as themselves?</p>
				<div class="btn-group btn-group-sm" role="group">
					<button type="button" id="incplot" class="btn btn-default active" onclick="selectInc()">Income</button>
					<button type="button" id="eduplot" class="btn btn-default" onclick="selectEdu()">Education</button>
				</div>
				<div id="incedudiffplot"></div>
			</section>
			<section id="conclusion">
				<p>Marriage dynamics are certainly complex and cannot just be boiled down to numbers and statistics but hopefully these graphs shed some light on who is marrying whom.</p>
			</section>
	        <section id="occscatterplot" class="inactive">
				<h2>Addendum: Basic Facts about Occupations </h2>
				<p>Here is how average earnings, educational attainment, employment size and gender breakdown compare between these occupations. </p>
				<p>The size of the circle corresponds to the number of workers in that job grouping.</p>
			</section>
		</div>


        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>    	
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.3/ScrollMagic.js"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.3/plugins/animation.gsap.js"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.3/plugins/debug.addIndicators.js"></script>
    	<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
		<script type="text/javascript" src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>

		<script type="text/javascript" src="js/occheatmap.js"></script>
		<script type="text/javascript" src="js/incdiffplot.js"></script>
		<script type="text/javascript" src="js/occscatterplot.js"></script>
		<script>
			$(".btn").click(function() {
				$(this).addClass("active").siblings().removeClass("active");
			});

			$(function() {
				var controller = new ScrollMagic.Controller();

				new ScrollMagic.Scene()
					.triggerElement("#occheatmap")
					.setClassToggle("#occheatmap", "active")
					.duration(800)
					.addIndicators()
					.addTo(controller);

				new ScrollMagic.Scene()
					.triggerElement("#diffplot")
					.setClassToggle("#diffplot", "active")
					.duration(600)
					.addIndicators()
					.addTo(controller);
					
				new ScrollMagic.Scene()
					.triggerElement("#occscatterplot")
					.setClassToggle("#occscatterplot", "active")
					.duration(800)
					.addIndicators()
					.addTo(controller);	

			});

		</script>
    </body>

</html>
